<?php

namespace Yeganehha\DynamicForm\Fields;

use Illuminate\Support\Facades\Blade;
use Yeganehha\DynamicForm\Abstracts\Field;

class NumberField extends Field
{

    public function adminName(): string
    {
        return trans('fields.number');
    }

    public function adminIconHtml(): string|null
    {
        return '
            <svg width="20px" height="20px" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M61.0501 44.48C60.6596 43.4724 59.9725 42.6071 59.0798 41.9983C58.1871 41.3894 57.1307 41.0657 56.0501 41.07H51.1301L53.0701 22.93H56.0001C57.4449 22.9338 58.8326 22.3658 59.8601 21.35C60.6443 20.589 61.1782 19.6074 61.3908 18.5355C61.6033 17.4637 61.4845 16.3526 61.0501 15.35C60.656 14.3448 59.9682 13.4818 59.0762 12.8735C58.1843 12.2652 57.1297 11.9399 56.0501 11.94H54.2501L54.6201 8.52997C54.7531 7.08863 54.3126 5.65295 53.3941 4.53426C52.4756 3.41557 51.1531 2.70407 49.7134 2.55405C48.2737 2.40403 46.833 2.82759 45.7035 3.73287C44.5741 4.63815 43.8471 5.95217 43.6801 7.38997L43.1901 11.93H25.1101L25.4801 8.51997C25.6023 7.08368 25.1557 5.65683 24.2365 4.54648C23.3172 3.43613 21.9988 2.73103 20.565 2.58293C19.1311 2.43482 17.6964 2.85555 16.5697 3.75457C15.4429 4.65359 14.7141 5.95903 14.5401 7.38997L14.0501 11.93H8.00009C6.55568 11.9284 5.16881 12.496 4.14009 13.51C3.35711 14.2717 2.82404 15.2533 2.61153 16.3248C2.39902 17.3963 2.51709 18.5071 2.95009 19.51C3.34324 20.5266 4.03752 21.3989 4.94002 22.0101C5.84252 22.6213 6.91018 22.9422 8.00009 22.93H12.8701L10.9301 41.07H8.00009C6.55525 41.0662 5.16759 41.6342 4.14009 42.65C3.37175 43.4195 2.84782 44.3989 2.63406 45.4651C2.42029 46.5313 2.52622 47.6369 2.93855 48.6432C3.35087 49.6494 4.05123 50.5115 4.95171 51.1211C5.85219 51.7308 6.91269 52.0609 8.00009 52.07H9.75009L9.3901 55.44C9.2842 56.1718 9.32695 56.9174 9.5158 57.6323C9.70465 58.3472 10.0357 59.0167 10.4892 59.6008C10.9427 60.1848 11.5093 60.6714 12.1551 61.0315C12.801 61.3916 13.5128 61.6177 14.248 61.6964C14.9832 61.7751 15.7268 61.7048 16.4342 61.4895C17.1416 61.2743 17.7984 60.9187 18.3652 60.4439C18.932 59.969 19.3973 59.3848 19.7332 58.7261C20.0691 58.0673 20.2687 57.3476 20.3201 56.61L20.8101 52.07H38.8901L38.5301 55.44C38.4524 56.1578 38.5171 56.8839 38.7205 57.5767C38.9238 58.2694 39.2618 58.9153 39.7151 59.4773C40.1684 60.0392 40.7281 60.5063 41.3621 60.8517C41.9962 61.197 42.6921 61.4139 43.4101 61.49C43.6133 61.5002 43.8169 61.5002 44.0201 61.49C45.3737 61.4897 46.679 60.9875 47.6838 60.0806C48.6887 59.1737 49.3215 57.9264 49.4601 56.58L50.0001 52.07H56.0001C57.4445 52.0716 58.8314 51.5039 59.8601 50.49C60.6451 49.7275 61.1795 48.744 61.392 47.6705C61.6046 46.5969 61.4853 45.4841 61.0501 44.48V44.48ZM22.0001 41.07L23.9401 22.93H42.0001L40.0701 41.07H22.0001Z" fill="black"/>
            </svg>
        ';
    }

    public function field(string $name, string|null $value = null, string|null $class = null, string|null $style = null, array $attributes = [], mixed $additional_data = null): string
    {
        return Blade::render(
            '<input type="number" name="{{ $name }}" @if($value) value="{{ $value }}" @endif @if($class) class="{{ $class }}" @endif @if($style) style="{{ $style }}" @endif @foreach($attributes as $attribute => $attribute_value) {{ $attribute}}="{{ $attribute_value }} @endforeach />',
            compact('name' ,'class' ,'style' ,'attributes' , 'value' , 'additional_data' )
        );
    }

    public function value(mixed $value = null): ?string
    {
        return (string) $value ?? null;
    }
}
